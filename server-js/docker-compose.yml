version: "3.8"

services:
    api:
        build: .
        container_name: backend-api
        # Auto-restart on crash or server reboot (won't restart if manually stopped)
        restart: unless-stopped
        ports:
            # Host:Container - Access API at localhost:5000
            - "5000:8080"
        # Load environment variables from .env file
        env_file:
            - .env
        volumes:
            # Bind mount for user uploads - persists data on host for easy backup
            - ./uploads:/app/uploads
