# Dockerfile (Updated)
FROM node:18-alpine 
# แนะนำขยับเป็น node 18 หรือ 20 (LTS) ถ้าเป็นไปได้ แต่ถ้าโค้ดเก่าใช้ 16 ก็ใช้ 16 ได้ครับ

WORKDIR /app

COPY package*.json ./
RUN npm install --production 
# เติม --production เพื่อไม่ให้ลง devDependencies (ช่วยลดขนาด image)

# ลบบรรทัด COPY .env ออก
COPY ./src ./src

EXPOSE 8080

CMD ["node", "src/index.js"]